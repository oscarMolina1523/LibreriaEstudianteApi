USE [master]
GO

/****** Object:  Database [LIBRERIA_ESTUDIANTE_MEJORADA]    Script Date: 16/10/2024 11:05:37 ******/
CREATE DATABASE [LibreriaEstudianteDatabase]
GO

USE [LibreriaEstudianteDatabase]
GO
/****** Object:  Table [dbo].[CATEGORIA]    Script Date: 16/10/2024 11:05:37 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CATEGORIA](
	[ID_CATEGORIA] [uniqueidentifier] NOT NULL,
	[DESCRIPCION_CATEGORIA] [varchar](max) NOT NULL,
	[ESTADO] [bit] NULL,
 CONSTRAINT [PK_CATEGORIA] PRIMARY KEY CLUSTERED 
(
	[ID_CATEGORIA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[CLIENTE]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CLIENTE](
	[ID_CLIENTE] [uniqueidentifier] NOT NULL,
	[NOMBRES] [varchar](max) NOT NULL,
	[CEDULA] [varchar](max) NULL,
	[TELEFONO] [varchar](max) NULL,
 CONSTRAINT [PK_CLIENTE] PRIMARY KEY CLUSTERED 
(
	[ID_CLIENTE] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[COMPRA]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[COMPRA](
	[ID_COMPRA] [uniqueidentifier] NOT NULL,
	[ID_USUARIO] [uniqueidentifier] NOT NULL,
	[ID_PROVEEDOR] [uniqueidentifier] NOT NULL,
	[FECHA] [datetime] NOT NULL,
	[TOTAL] [decimal](18, 0) NOT NULL,
 CONSTRAINT [PK_COMPRA] PRIMARY KEY CLUSTERED 
(
	[ID_COMPRA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[DETALLE_COMPRA]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[DETALLE_COMPRA](
	[ID_DETALLE_COMPRA] [uniqueidentifier] NOT NULL,
	[ID_DETALLE_PRODUCTO] [uniqueidentifier] NOT NULL,
	[ID_COMPRA] [uniqueidentifier] NOT NULL,
	[PRECIO_COMPRA] [decimal](18, 0) NULL,
	[CANTIDAD] [int] NULL,
	[SUB_TOTAL] [decimal](18, 0) NULL,
 CONSTRAINT [PK_DETALLE_COMPRA] PRIMARY KEY CLUSTERED 
(
	[ID_DETALLE_COMPRA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[DETALLE_PRODUCTO]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[DETALLE_PRODUCTO](
	[ID_DETALLE_PRODUCTO] [uniqueidentifier] NOT NULL,
	[ID_PRODUCTO] [uniqueidentifier] NOT NULL,
	[ID_MARCA] [uniqueidentifier] NOT NULL,
	[ID_UNIDAD_MEDIDA] [uniqueidentifier] NOT NULL,
	[ID_MATERIAL] [uniqueidentifier] NOT NULL,
 CONSTRAINT [PK_DETALLE_PRODUCTO] PRIMARY KEY CLUSTERED 
(
	[ID_DETALLE_PRODUCTO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[DETALLE_VENTA]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[DETALLE_VENTA](
	[ID_DETALLE_VENTA] [uniqueidentifier] NOT NULL,
	[ID_VENTA] [uniqueidentifier] NOT NULL,
	[ID_DETALLE_PRODUCTO] [uniqueidentifier] NOT NULL,
	[CANTIDAD] [int] NOT NULL,
	[PRECIO_VENTA] [decimal](18, 0) NOT NULL,
	[SUB_TOTAL] [decimal](18, 0) NOT NULL,
 CONSTRAINT [PK_DETALLE_VENTA] PRIMARY KEY CLUSTERED 
(
	[ID_DETALLE_VENTA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[DEVOLUCIONES]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[DEVOLUCIONES](
	[ID_DEVOLUCIONES] [uniqueidentifier] NOT NULL,
	[ID_EMPLEADO] [uniqueidentifier] NOT NULL,
	[ID_DETALLE_PRODUCTO] [uniqueidentifier] NOT NULL,
	[ID_CLIENTE] [uniqueidentifier] NOT NULL,
	[DESCRIPCION] [varchar](max) NOT NULL,
	[ESTADO] [varchar](max) NOT NULL,
 CONSTRAINT [PK_DEVOLUCIONES] PRIMARY KEY CLUSTERED 
(
	[ID_DEVOLUCIONES] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[EMPLEADO]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[EMPLEADO](
	[ID_EMPLEADO] [uniqueidentifier] NOT NULL,
	[NOMBRES] [varchar](max) NOT NULL,
	[APELLIDOS] [varchar](max) NOT NULL,
	[CEDULA] [varchar](max) NOT NULL,
	[TELEFONO] [varchar](max) NULL,
	[ESTADO] [bit] NULL,
 CONSTRAINT [PK_EMPLEADO] PRIMARY KEY CLUSTERED 
(
	[ID_EMPLEADO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[EXISTENCIA]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[EXISTENCIA](
	[ID_EXISTENCIA] [uniqueidentifier] NOT NULL,
	[ID_DETALLE_PRODUCTO] [uniqueidentifier] NOT NULL,
	[STOCK] [int] NOT NULL,
	[EXPIRACION] [datetime] NOT NULL,
	[PRECIO_VENTA_EXITENCIA] [decimal](18, 0) NOT NULL,
	[PRECIO_COMPRA] [decimal](18, 0) NOT NULL,
 CONSTRAINT [PK_EXITENCIA] PRIMARY KEY CLUSTERED 
(
	[ID_EXISTENCIA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MARCA]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MARCA](
	[ID_MARCA] [uniqueidentifier] NOT NULL,
	[DESCRIPCION_MARCA] [varchar](max) NOT NULL,
	[ESTADO] [bit] NULL,
 CONSTRAINT [PK_MARCA] PRIMARY KEY CLUSTERED 
(
	[ID_MARCA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MATERIAL]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MATERIAL](
	[ID_MATERIAL] [uniqueidentifier] NOT NULL,
	[DESCRIPCION_MATERIAL] [varchar](max) NOT NULL,
	[ESTADO] [bit] NULL,
 CONSTRAINT [PK_MATERIAL] PRIMARY KEY CLUSTERED 
(
	[ID_MATERIAL] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PRODUCTO]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PRODUCTO](
	[ID_PRODUCTO] [uniqueidentifier] NOT NULL,
	[DESCRIPCION_PRODUCTO] [varchar](max) NOT NULL,
	[ID_CATEGORIA] [uniqueidentifier] NOT NULL,
	[ESTADO] [bit] NULL,
 CONSTRAINT [PK_PRODUCTO] PRIMARY KEY CLUSTERED 
(
	[ID_PRODUCTO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PROVEEDOR]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PROVEEDOR](
	[ID_PROVEEDOR] [uniqueidentifier] NOT NULL,
	[DIRECCION] [varchar](max) NOT NULL,
	[TELEFONO] [varchar](max) NOT NULL,
	[CORREO_ELECTRONICO] [varchar](max) NULL,
	[DESCRIPCION_PROVEEDOR] [varchar](max) NOT NULL,
 CONSTRAINT [PK_PROVEEDOR] PRIMARY KEY CLUSTERED 
(
	[ID_PROVEEDOR] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[ROLES]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[ROLES](
	[ID_ROLES] [uniqueidentifier] NOT NULL,
	[DESCRIPCION_ROLES] [varchar](max) NOT NULL,
	[ESTADO] [bit] NULL,
 CONSTRAINT [PK_ROLES] PRIMARY KEY CLUSTERED 
(
	[ID_ROLES] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[UNIDAD_MEDIDA]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[UNIDAD_MEDIDA](
	[ID_UNIDAD_MEDIDA] [uniqueidentifier] NOT NULL,
	[DESCRIPCION_MEDIDA] [varchar](max) NOT NULL,
	[ESTADO] [bit] NULL,
 CONSTRAINT [PK_UNIDAD_MEDIDA] PRIMARY KEY CLUSTERED 
(
	[ID_UNIDAD_MEDIDA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[USUARIO]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[USUARIO](
	[ID_USUARIO] [uniqueidentifier] NOT NULL,
	[ID_ROLES] [uniqueidentifier] NOT NULL,
	[ID_EMPLEADO] [uniqueidentifier] NOT NULL,
	[NOMBRE_USUARIO] [varchar](max) NOT NULL,
	[CONTRASEÑA] [varchar](max) NOT NULL,
	[ESTADO] [bit] NULL,
 CONSTRAINT [PK_USUARIO] PRIMARY KEY CLUSTERED 
(
	[ID_USUARIO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[VENTA]    Script Date: 16/10/2024 11:05:38 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[VENTA](
	[ID_VENTA] [uniqueidentifier] NOT NULL,
	[ID_CLIENTE] [uniqueidentifier] NOT NULL,
	[ID_USUARIO] [uniqueidentifier] NOT NULL,
	[TOTAL] [decimal](18, 0) NOT NULL,
	[FECHA] [datetime] NOT NULL,
 CONSTRAINT [PK_VENTA] PRIMARY KEY CLUSTERED 
(
	[ID_VENTA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
INSERT [dbo].[CATEGORIA] ([ID_CATEGORIA], [DESCRIPCION_CATEGORIA], [ESTADO]) VALUES (N'3fa85f64-5717-4562-b3fc-2c963f66afa6', N'cuadernos', 1)
INSERT [dbo].[CATEGORIA] ([ID_CATEGORIA], [DESCRIPCION_CATEGORIA], [ESTADO]) VALUES (N'73d01d2e-a508-4779-a750-4517618f3850', N'Lapiceros', 1)
INSERT [dbo].[CATEGORIA] ([ID_CATEGORIA], [DESCRIPCION_CATEGORIA], [ESTADO]) VALUES (N'5d593d78-f0c1-437c-b025-4b76c3623acb', N'Lapiz de colores', 0)
INSERT [dbo].[CATEGORIA] ([ID_CATEGORIA], [DESCRIPCION_CATEGORIA], [ESTADO]) VALUES (N'51c82a45-2fa5-4239-8fc4-ad1bc2c6eaef', N'cartulina', 0)
GO
INSERT [dbo].[CLIENTE] ([ID_CLIENTE], [NOMBRES], [CEDULA], [TELEFONO]) VALUES (N'3d998edf-941a-4f08-a5e0-5d1fa1f84f04', N'Eduardo Moises', N'115-485926-2008E', N'59849887')
INSERT [dbo].[CLIENTE] ([ID_CLIENTE], [NOMBRES], [CEDULA], [TELEFONO]) VALUES (N'65b5e78e-46c2-46fd-a020-6f798dfb002c', N'Eduardo Jose Pichardo Lopez', N'154-158459-485E', N'1548-8459')
INSERT [dbo].[CLIENTE] ([ID_CLIENTE], [NOMBRES], [CEDULA], [TELEFONO]) VALUES (N'a329ed7b-43ca-4805-82b6-a0b399a41a0a', N'Fernando Arturo Alvaro Perez', N'489-126747-482F', N'4815-6247')
INSERT [dbo].[CLIENTE] ([ID_CLIENTE], [NOMBRES], [CEDULA], [TELEFONO]) VALUES (N'9594b1ec-84b4-48f6-a149-b4f434f67246', N'Juan Carlos Barrera ', N'489-845962-1548J', N'7895-8796')
INSERT [dbo].[CLIENTE] ([ID_CLIENTE], [NOMBRES], [CEDULA], [TELEFONO]) VALUES (N'639e40bd-425c-424e-83e8-f602e75518d3', N'Jose Vladimir Briceño Parrales', N'0403-040506-1001U', N'4859-8451')
GO
INSERT [dbo].[DETALLE_PRODUCTO] ([ID_DETALLE_PRODUCTO], [ID_PRODUCTO], [ID_MARCA], [ID_UNIDAD_MEDIDA], [ID_MATERIAL]) VALUES (N'13ff58a5-d73d-44c4-a712-4d03c795b835', N'3fa85f64-5717-4562-b3fc-2c963f66afa7', N'f6ab0fd8-617d-44ff-af81-2e41ef4d0583', N'c968a47d-689c-4abe-b318-0b515ee22769', N'ef80637b-c57e-4dd5-9059-1b8514f5e242')
GO
INSERT [dbo].[EMPLEADO] ([ID_EMPLEADO], [NOMBRES], [APELLIDOS], [CEDULA], [TELEFONO], [ESTADO]) VALUES (N'228bce6f-e1f6-4fad-bd98-1c782c773c64', N'Manuel Josue', N'Hernadez Cordoba', N'154-845126-845M', N'8459-1526', NULL)
INSERT [dbo].[EMPLEADO] ([ID_EMPLEADO], [NOMBRES], [APELLIDOS], [CEDULA], [TELEFONO], [ESTADO]) VALUES (N'db758ddb-5252-4f89-a24e-7832dcc51446', N'Eduardo Jose II', N'Putin Romanov', N'159-845926-1852E', N'87896545', 1)
INSERT [dbo].[EMPLEADO] ([ID_EMPLEADO], [NOMBRES], [APELLIDOS], [CEDULA], [TELEFONO], [ESTADO]) VALUES (N'59d95497-be04-4d88-bb0f-831b8661f2f8', N'Juan Jose', N'Rodriguez', N'489-158426-159J', N'4895-6235', NULL)
INSERT [dbo].[EMPLEADO] ([ID_EMPLEADO], [NOMBRES], [APELLIDOS], [CEDULA], [TELEFONO], [ESTADO]) VALUES (N'837d7e52-bb28-4741-b91a-927552538bcf', N'Manuel Josue 2', N'Hernadez Cordoba', N'154-845126-845M', N'8459-1526', NULL)
INSERT [dbo].[EMPLEADO] ([ID_EMPLEADO], [NOMBRES], [APELLIDOS], [CEDULA], [TELEFONO], [ESTADO]) VALUES (N'2cde7ce5-45c0-4ab7-9a68-ff468df44d22', N'Eduardo Jose', N'Putin Romanov', N'159-845926-1852E', N'87896545', 1)
GO
INSERT [dbo].[MARCA] ([ID_MARCA], [DESCRIPCION_MARCA], [ESTADO]) VALUES (N'cca43c4b-6530-4ead-b3b1-0998de8d4d4b', N'Poroplas', 1)
INSERT [dbo].[MARCA] ([ID_MARCA], [DESCRIPCION_MARCA], [ESTADO]) VALUES (N'f6ab0fd8-617d-44ff-af81-2e41ef4d0583', N'HBPen', NULL)
INSERT [dbo].[MARCA] ([ID_MARCA], [DESCRIPCION_MARCA], [ESTADO]) VALUES (N'98980c91-2d87-4dd2-a0f5-2e8ceb42ca6f', N'PaperMate', NULL)
INSERT [dbo].[MARCA] ([ID_MARCA], [DESCRIPCION_MARCA], [ESTADO]) VALUES (N'4df1dc35-888a-4170-bb2b-59d0b7ae6cf7', N'Americano', 1)
INSERT [dbo].[MARCA] ([ID_MARCA], [DESCRIPCION_MARCA], [ESTADO]) VALUES (N'373238c9-a7e6-4bb2-a40e-c54e4da2661b', N'Tigo', 1)
INSERT [dbo].[MARCA] ([ID_MARCA], [DESCRIPCION_MARCA], [ESTADO]) VALUES (N'4f28974f-5f9b-461e-9198-e6c47a0893ee', N'TIGU', NULL)
GO
INSERT [dbo].[MATERIAL] ([ID_MATERIAL], [DESCRIPCION_MATERIAL], [ESTADO]) VALUES (N'ef80637b-c57e-4dd5-9059-1b8514f5e242', N'Plastico', NULL)
INSERT [dbo].[MATERIAL] ([ID_MATERIAL], [DESCRIPCION_MATERIAL], [ESTADO]) VALUES (N'7b74bf33-6e87-4aa9-8839-4639fd256959', N'Cartulina', NULL)
INSERT [dbo].[MATERIAL] ([ID_MATERIAL], [DESCRIPCION_MATERIAL], [ESTADO]) VALUES (N'e2535aae-3d4d-4aeb-a775-6b0d8cd50cfa', N'Poroplas', 1)
INSERT [dbo].[MATERIAL] ([ID_MATERIAL], [DESCRIPCION_MATERIAL], [ESTADO]) VALUES (N'8c267842-a936-473b-a470-7393e1449e79', N'Papel', NULL)
INSERT [dbo].[MATERIAL] ([ID_MATERIAL], [DESCRIPCION_MATERIAL], [ESTADO]) VALUES (N'8805ca67-1cbc-4ffb-9dad-a1201cf7f06f', N'Reciclado', 0)
INSERT [dbo].[MATERIAL] ([ID_MATERIAL], [DESCRIPCION_MATERIAL], [ESTADO]) VALUES (N'5f66779f-7680-40ec-8744-cc3fe22c5e89', N'Metalico', NULL)
INSERT [dbo].[MATERIAL] ([ID_MATERIAL], [DESCRIPCION_MATERIAL], [ESTADO]) VALUES (N'e21f112e-bb7f-4007-add8-d88e9b9b6ec4', N'Madera', 1)
GO
INSERT [dbo].[PRODUCTO] ([ID_PRODUCTO], [DESCRIPCION_PRODUCTO], [ID_CATEGORIA], [ESTADO]) VALUES (N'fed10621-ce6c-4947-bd5b-0aabf7520ddf', N'Cuaderno cuadriculado', N'3fa85f64-5717-4562-b3fc-2c963f66afa6', 1)
INSERT [dbo].[PRODUCTO] ([ID_PRODUCTO], [DESCRIPCION_PRODUCTO], [ID_CATEGORIA], [ESTADO]) VALUES (N'3fa85f64-5717-4562-b3fc-2c963f66afa7', N'CUADERNO NUEVO DORA', N'3fa85f64-5717-4562-b3fc-2c963f66afa6', 1)
INSERT [dbo].[PRODUCTO] ([ID_PRODUCTO], [DESCRIPCION_PRODUCTO], [ID_CATEGORIA], [ESTADO]) VALUES (N'c7eb6def-1f29-457b-b7e2-3d1a84cb155f', N'cuaderno rayado', N'3fa85f64-5717-4562-b3fc-2c963f66afa6', 0)
INSERT [dbo].[PRODUCTO] ([ID_PRODUCTO], [DESCRIPCION_PRODUCTO], [ID_CATEGORIA], [ESTADO]) VALUES (N'830a91f2-672a-45d4-8493-43d0b638ebbf', N'Lapices de colores', N'5d593d78-f0c1-437c-b025-4b76c3623acb', 1)
INSERT [dbo].[PRODUCTO] ([ID_PRODUCTO], [DESCRIPCION_PRODUCTO], [ID_CATEGORIA], [ESTADO]) VALUES (N'830a91f3-672a-45d4-8493-43d0b638ebbf', N'Textura de puntitos', N'51c82a45-2fa5-4239-8fc4-ad1bc2c6eaef', 1)
INSERT [dbo].[PRODUCTO] ([ID_PRODUCTO], [DESCRIPCION_PRODUCTO], [ID_CATEGORIA], [ESTADO]) VALUES (N'830a91f3-672b-45d4-8493-43d0b638ebbf', N'Textura Lisa', N'51c82a45-2fa5-4239-8fc4-ad1bc2c6eaef', 1)
INSERT [dbo].[PRODUCTO] ([ID_PRODUCTO], [DESCRIPCION_PRODUCTO], [ID_CATEGORIA], [ESTADO]) VALUES (N'84ddd6a3-d4b8-4cd1-91bd-95ec00f8f27d', N'CUADERNO MESSI MBAPE', N'3fa85f64-5717-4562-b3fc-2c963f66afa6', 1)
GO
INSERT [dbo].[PROVEEDOR] ([ID_PROVEEDOR], [DIRECCION], [TELEFONO], [CORREO_ELECTRONICO], [DESCRIPCION_PROVEEDOR]) VALUES (N'5a17bbbe-6087-4dbe-97c5-b02d34ad0037', N'Jinotepe, Nicaragua', N'1593-6523', N'DeTodo@gmail.com', N'Tienda De todo para Todos')
INSERT [dbo].[PROVEEDOR] ([ID_PROVEEDOR], [DIRECCION], [TELEFONO], [CORREO_ELECTRONICO], [DESCRIPCION_PROVEEDOR]) VALUES (N'bbbe00e7-66b9-4db5-82bb-d3b7ea74de45', N'Jinotepe, Nicaragua', N'4859-4785', N'FullColor@gmail.com', N'Libreria Full Color')
INSERT [dbo].[PROVEEDOR] ([ID_PROVEEDOR], [DIRECCION], [TELEFONO], [CORREO_ELECTRONICO], [DESCRIPCION_PROVEEDOR]) VALUES (N'e1e0c590-db9e-4c95-bb3c-df249942642d', N'Jinotepe, Carazo, Nicaragua', N'8759-2645', N'Elflaco48@gmail.com', N'Libreria El flaco')
GO
INSERT [dbo].[ROLES] ([ID_ROLES], [DESCRIPCION_ROLES], [ESTADO]) VALUES (N'1c1ab5d2-a37e-4f6e-bb1b-0de34e14827f', N'Gerente', 0)
INSERT [dbo].[ROLES] ([ID_ROLES], [DESCRIPCION_ROLES], [ESTADO]) VALUES (N'13ff58a5-d73d-44c4-a712-4d03c795b833', N'Administrador', NULL)
INSERT [dbo].[ROLES] ([ID_ROLES], [DESCRIPCION_ROLES], [ESTADO]) VALUES (N'f32e8110-f762-46d6-ae3f-b410cd1eed95', N'Vendedor', NULL)
INSERT [dbo].[ROLES] ([ID_ROLES], [DESCRIPCION_ROLES], [ESTADO]) VALUES (N'58d37753-5a7c-4840-b3a9-c1f7786b5387', N'Bodega', NULL)
INSERT [dbo].[ROLES] ([ID_ROLES], [DESCRIPCION_ROLES], [ESTADO]) VALUES (N'118072d0-58e6-4f46-bafe-ce171248f647', N'Conserje', 1)
GO
INSERT [dbo].[UNIDAD_MEDIDA] ([ID_UNIDAD_MEDIDA], [DESCRIPCION_MEDIDA], [ESTADO]) VALUES (N'c968a47d-689c-4abe-b318-0b515ee22769', N'Media Docena', NULL)
INSERT [dbo].[UNIDAD_MEDIDA] ([ID_UNIDAD_MEDIDA], [DESCRIPCION_MEDIDA], [ESTADO]) VALUES (N'bc9081cd-22b8-4346-b364-0e15c56e235d', N'Docena', NULL)
INSERT [dbo].[UNIDAD_MEDIDA] ([ID_UNIDAD_MEDIDA], [DESCRIPCION_MEDIDA], [ESTADO]) VALUES (N'e149b223-008c-4523-b452-2aa74f05f01d', N'Par', 1)
INSERT [dbo].[UNIDAD_MEDIDA] ([ID_UNIDAD_MEDIDA], [DESCRIPCION_MEDIDA], [ESTADO]) VALUES (N'c5e5866f-7c11-4bd6-8fdb-350a0922567c', N'Unidades', NULL)
INSERT [dbo].[UNIDAD_MEDIDA] ([ID_UNIDAD_MEDIDA], [DESCRIPCION_MEDIDA], [ESTADO]) VALUES (N'89a1b67c-6926-4ef5-b251-54c71dde5d33', N'Caja', 0)
GO
INSERT [dbo].[USUARIO] ([ID_USUARIO], [ID_ROLES], [ID_EMPLEADO], [NOMBRE_USUARIO], [CONTRASEÑA], [ESTADO]) VALUES (N'13ff58a5-d73d-44c4-a712-4d03c795b834', N'13ff58a5-d73d-44c4-a712-4d03c795b833', N'228bce6f-e1f6-4fad-bd98-1c782c773c64', N'Juan Marcelo', N'123456', 1)
INSERT [dbo].[USUARIO] ([ID_USUARIO], [ID_ROLES], [ID_EMPLEADO], [NOMBRE_USUARIO], [CONTRASEÑA], [ESTADO]) VALUES (N'fc787365-b8d0-4caa-9c1f-caedc97fc2b9', N'13ff58a5-d73d-44c4-a712-4d03c795b833', N'228bce6f-e1f6-4fad-bd98-1c782c773c64', N'Eduardo Santiago Rivera', N'123456789', 1)
GO
ALTER TABLE [dbo].[COMPRA]  WITH CHECK ADD  CONSTRAINT [FK_COMPRA_PROVEEDOR] FOREIGN KEY([ID_PROVEEDOR])
REFERENCES [dbo].[PROVEEDOR] ([ID_PROVEEDOR])
GO
ALTER TABLE [dbo].[COMPRA] CHECK CONSTRAINT [FK_COMPRA_PROVEEDOR]
GO
ALTER TABLE [dbo].[COMPRA]  WITH CHECK ADD  CONSTRAINT [FK_COMPRA_USUARIO] FOREIGN KEY([ID_USUARIO])
REFERENCES [dbo].[USUARIO] ([ID_USUARIO])
GO
ALTER TABLE [dbo].[COMPRA] CHECK CONSTRAINT [FK_COMPRA_USUARIO]
GO
ALTER TABLE [dbo].[DETALLE_COMPRA]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_COMPRA_COMPRA] FOREIGN KEY([ID_COMPRA])
REFERENCES [dbo].[COMPRA] ([ID_COMPRA])
GO
ALTER TABLE [dbo].[DETALLE_COMPRA] CHECK CONSTRAINT [FK_DETALLE_COMPRA_COMPRA]
GO
ALTER TABLE [dbo].[DETALLE_COMPRA]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_COMPRA_DETALLE_PRODUCTO] FOREIGN KEY([ID_DETALLE_PRODUCTO])
REFERENCES [dbo].[DETALLE_PRODUCTO] ([ID_DETALLE_PRODUCTO])
GO
ALTER TABLE [dbo].[DETALLE_COMPRA] CHECK CONSTRAINT [FK_DETALLE_COMPRA_DETALLE_PRODUCTO]
GO
ALTER TABLE [dbo].[DETALLE_PRODUCTO]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_PRODUCTO_MARCA] FOREIGN KEY([ID_MARCA])
REFERENCES [dbo].[MARCA] ([ID_MARCA])
GO
ALTER TABLE [dbo].[DETALLE_PRODUCTO] CHECK CONSTRAINT [FK_DETALLE_PRODUCTO_MARCA]
GO
ALTER TABLE [dbo].[DETALLE_PRODUCTO]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_PRODUCTO_MATERIAL] FOREIGN KEY([ID_MATERIAL])
REFERENCES [dbo].[MATERIAL] ([ID_MATERIAL])
GO
ALTER TABLE [dbo].[DETALLE_PRODUCTO] CHECK CONSTRAINT [FK_DETALLE_PRODUCTO_MATERIAL]
GO
ALTER TABLE [dbo].[DETALLE_PRODUCTO]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_PRODUCTO_PRODUCTO] FOREIGN KEY([ID_PRODUCTO])
REFERENCES [dbo].[PRODUCTO] ([ID_PRODUCTO])
GO
ALTER TABLE [dbo].[DETALLE_PRODUCTO] CHECK CONSTRAINT [FK_DETALLE_PRODUCTO_PRODUCTO]
GO
ALTER TABLE [dbo].[DETALLE_PRODUCTO]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_PRODUCTO_UNIDAD_MEDIDA] FOREIGN KEY([ID_UNIDAD_MEDIDA])
REFERENCES [dbo].[UNIDAD_MEDIDA] ([ID_UNIDAD_MEDIDA])
GO
ALTER TABLE [dbo].[DETALLE_PRODUCTO] CHECK CONSTRAINT [FK_DETALLE_PRODUCTO_UNIDAD_MEDIDA]
GO
ALTER TABLE [dbo].[DETALLE_VENTA]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_VENTA_DETALLE_PRODUCTO] FOREIGN KEY([ID_DETALLE_PRODUCTO])
REFERENCES [dbo].[DETALLE_PRODUCTO] ([ID_DETALLE_PRODUCTO])
GO
ALTER TABLE [dbo].[DETALLE_VENTA] CHECK CONSTRAINT [FK_DETALLE_VENTA_DETALLE_PRODUCTO]
GO
ALTER TABLE [dbo].[DETALLE_VENTA]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_VENTA_VENTA] FOREIGN KEY([ID_VENTA])
REFERENCES [dbo].[VENTA] ([ID_VENTA])
GO
ALTER TABLE [dbo].[DETALLE_VENTA] CHECK CONSTRAINT [FK_DETALLE_VENTA_VENTA]
GO
ALTER TABLE [dbo].[PRODUCTO]  WITH CHECK ADD  CONSTRAINT [FK_PRODUCTO_CATEGORIA] FOREIGN KEY([ID_CATEGORIA])
REFERENCES [dbo].[CATEGORIA] ([ID_CATEGORIA])
GO
ALTER TABLE [dbo].[PRODUCTO] CHECK CONSTRAINT [FK_PRODUCTO_CATEGORIA]
GO
ALTER TABLE [dbo].[USUARIO]  WITH CHECK ADD  CONSTRAINT [FK_USUARIO_EMPLEADO] FOREIGN KEY([ID_EMPLEADO])
REFERENCES [dbo].[EMPLEADO] ([ID_EMPLEADO])
GO
ALTER TABLE [dbo].[USUARIO] CHECK CONSTRAINT [FK_USUARIO_EMPLEADO]
GO
ALTER TABLE [dbo].[USUARIO]  WITH CHECK ADD  CONSTRAINT [FK_USUARIO_ROLES] FOREIGN KEY([ID_ROLES])
REFERENCES [dbo].[ROLES] ([ID_ROLES])
GO
ALTER TABLE [dbo].[USUARIO] CHECK CONSTRAINT [FK_USUARIO_ROLES]
GO
ALTER TABLE [dbo].[VENTA]  WITH CHECK ADD  CONSTRAINT [FK_VENTA_CLIENTE] FOREIGN KEY([ID_CLIENTE])
REFERENCES [dbo].[CLIENTE] ([ID_CLIENTE])
GO
ALTER TABLE [dbo].[VENTA] CHECK CONSTRAINT [FK_VENTA_CLIENTE]
GO
ALTER TABLE [dbo].[VENTA]  WITH CHECK ADD  CONSTRAINT [FK_VENTA_USUARIO] FOREIGN KEY([ID_USUARIO])
REFERENCES [dbo].[USUARIO] ([ID_USUARIO])
GO
ALTER TABLE [dbo].[VENTA] CHECK CONSTRAINT [FK_VENTA_USUARIO]
GO
/****** Object:  StoredProcedure [dbo].[USP_CategoriaEliminar]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_CategoriaEliminar]
	@cod uniqueidentifier,
	@Resultado bit output
AS 
BEGIN
SET @Resultado=1
	SET NOCOUNT ON;
	IF EXISTS (SELECT ID_CATEGORIA FROM CATEGORIA WHERE ID_CATEGORIA=@cod)
		DELETE FROM CATEGORIA WHERE ID_CATEGORIA=@cod
	ELSE
		SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_CategoriasObtener]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_CategoriasObtener]

AS
BEGIN
	 SET NOCOUNT ON;

	 SELECT ID_CATEGORIA, DESCRIPCION_CATEGORIA, ESTADO FROM CATEGORIA
END
GO
/****** Object:  StoredProcedure [dbo].[USP_ClientesObtener]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ClientesObtener]

AS
BEGIN
	 SET NOCOUNT ON;

	 SELECT ID_CLIENTE, NOMBRES, CEDULA, TELEFONO FROM CLIENTE
END
GO
/****** Object:  StoredProcedure [dbo].[USP_DetalleProductosObtener]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_DetalleProductosObtener]

AS
BEGIN
	 SET NOCOUNT ON;

	 SELECT ID_DETALLE_PRODUCTO, DETALLE_PRODUCTO.ID_PRODUCTO, DETALLE_PRODUCTO.ID_MARCA, DETALLE_PRODUCTO.ID_UNIDAD_MEDIDA,
	  DETALLE_PRODUCTO.ID_MATERIAL, PRODUCTO.DESCRIPCION_PRODUCTO,MARCA.DESCRIPCION_MARCA,UNIDAD_MEDIDA.DESCRIPCION_MEDIDA,
	  MATERIAL.DESCRIPCION_MATERIAL FROM DETALLE_PRODUCTO
	 INNER JOIN PRODUCTO ON PRODUCTO.ID_PRODUCTO= DETALLE_PRODUCTO.ID_PRODUCTO
	 INNER JOIN MARCA ON MARCA.ID_MARCA= DETALLE_PRODUCTO.ID_MARCA
	 INNER JOIN UNIDAD_MEDIDA ON UNIDAD_MEDIDA.ID_UNIDAD_MEDIDA= DETALLE_PRODUCTO.ID_UNIDAD_MEDIDA
	 INNER JOIN MATERIAL ON MATERIAL.ID_MATERIAL= DETALLE_PRODUCTO.ID_MATERIAL
END
GO
/****** Object:  StoredProcedure [dbo].[USP_EmpleadosObtener]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_EmpleadosObtener]

AS
BEGIN
	 SET NOCOUNT ON;

	 SELECT ID_EMPLEADO, NOMBRES,APELLIDOS, CEDULA, TELEFONO, ESTADO FROM EMPLEADO
END
GO
/****** Object:  StoredProcedure [dbo].[USP_MarcasObtener]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_MarcasObtener]

AS
BEGIN
	 SET NOCOUNT ON;

	 SELECT ID_MARCA, DESCRIPCION_MARCA, ESTADO FROM MARCA
END
GO
/****** Object:  StoredProcedure [dbo].[USP_MaterialesObtener]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_MaterialesObtener]

AS
BEGIN
	 SET NOCOUNT ON;

	 SELECT ID_MATERIAL, DESCRIPCION_MATERIAL, ESTADO FROM MATERIAL
END
GO
/****** Object:  StoredProcedure [dbo].[USP_MedidasObtener]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_MedidasObtener]

AS
BEGIN
	 SET NOCOUNT ON;

	 SELECT ID_UNIDAD_MEDIDA, DESCRIPCION_MEDIDA, ESTADO FROM UNIDAD_MEDIDA
END
GO
/****** Object:  StoredProcedure [dbo].[USP_ModificarCategoria]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ModificarCategoria](
@IdCategoria UniqueIdentifier,
@Descripcion nvarchar(MAX),
@Activo bit,
@Resultado bit output
)
AS 
BEGIN
    SET @Resultado=1
	IF EXISTS (SELECT * FROM CATEGORIA WHERE ID_CATEGORIA = @IdCategoria)
		update CATEGORIA SET 
		DESCRIPCION_CATEGORIA=@Descripcion,
		ESTADO=@Activo
		WHERE ID_CATEGORIA=@IdCategoria
	ELSE
	 SET @Resultado=0

END
GO
/****** Object:  StoredProcedure [dbo].[USP_ModificarCliente]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ModificarCliente](
@IdCliente UniqueIdentifier,
@Nombres nvarchar(MAX),
@Cedula nvarchar(MAX),
@Telefono nvarchar(MAX),
@Resultado bit output
)
AS 
BEGIN
    SET @Resultado=1
	IF EXISTS (SELECT * FROM CLIENTE WHERE ID_CLIENTE = @IdCliente)
		update CLIENTE SET 
		NOMBRES=@Nombres,
		CEDULA=@Cedula,
		TELEFONO=@Telefono
		WHERE ID_CLIENTE=@IdCliente
	ELSE
	 SET @Resultado=0

END
GO
/****** Object:  StoredProcedure [dbo].[USP_ModificarDetalleProducto]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ModificarDetalleProducto](
@IdDetalleProducto UniqueIdentifier,
@IdProducto UniqueIdentifier,
@IdMarca UniqueIdentifier,
@IdUnidadMedida UniqueIdentifier,
@IdMaterial UniqueIdentifier,
@Resultado bit output
)
AS 
BEGIN
    SET @Resultado=1
	IF EXISTS (SELECT * FROM DETALLE_PRODUCTO WHERE rtrim(ltrim(ID_DETALLE_PRODUCTO)) = rtrim(ltrim(@IdDetalleProducto)))
		update DETALLE_PRODUCTO SET 
		ID_PRODUCTO=@IdProducto,
		ID_MARCA=@IdMarca,
		ID_UNIDAD_MEDIDA=@IdUnidadMedida,
		ID_MATERIAL=@IdMaterial
		WHERE ID_DETALLE_PRODUCTO=@IdDetalleProducto
	ELSE
	 SET @Resultado=0

END
GO
/****** Object:  StoredProcedure [dbo].[USP_ModificarEmpleado]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ModificarEmpleado](
@IdEmpleado UniqueIdentifier,
@Nombres nvarchar(MAX),
@Apellidos nvarchar(MAX),
@Cedula nvarchar(MAX),
@Telefono nvarchar(MAX),
@Estado bit,
@Resultado bit output
)
AS 
BEGIN
    SET @Resultado=1
	IF EXISTS (SELECT * FROM EMPLEADO WHERE ID_EMPLEADO = @IdEmpleado)
		update EMPLEADO SET 
		NOMBRES=@Nombres,
		APELLIDOS=@Apellidos,
		CEDULA=@Cedula,
		TELEFONO=@Telefono,
		ESTADO=@Estado
		WHERE ID_EMPLEADO=@IdEmpleado
	ELSE
	 SET @Resultado=0

END
GO
/****** Object:  StoredProcedure [dbo].[USP_ModificarMarca]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ModificarMarca](
@IdMarca UniqueIdentifier,
@Descripcion nvarchar(MAX),
@Activo bit,
@Resultado bit output
)
AS 
BEGIN
    SET @Resultado=1
	IF EXISTS (SELECT * FROM MARCA WHERE ID_MARCA = @IdMarca)
		update MARCA SET 
		DESCRIPCION_MARCA=@Descripcion,
		ESTADO=@Activo
		WHERE ID_MARCA=@IdMarca
	ELSE
	 SET @Resultado=0

END
GO
/****** Object:  StoredProcedure [dbo].[USP_ModificarMaterial]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ModificarMaterial](
@IdMaterial UniqueIdentifier,
@Descripcion nvarchar(MAX),
@Activo bit,
@Resultado bit output
)
AS 
BEGIN
    SET @Resultado=1
	IF EXISTS (SELECT * FROM MATERIAL WHERE ID_MATERIAL = @IdMaterial)
		update MATERIAL SET 
		DESCRIPCION_MATERIAL=@Descripcion,
		ESTADO=@Activo
		WHERE ID_MATERIAL=@IdMaterial
	ELSE
	 SET @Resultado=0

END
GO
/****** Object:  StoredProcedure [dbo].[USP_ModificarMedida]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ModificarMedida](
@IdMedida UniqueIdentifier,
@Descripcion nvarchar(MAX),
@Activo bit,
@Resultado bit output
)
AS 
BEGIN
    SET @Resultado=1
	IF EXISTS (SELECT * FROM UNIDAD_MEDIDA WHERE ID_UNIDAD_MEDIDA = @IdMedida)
		update UNIDAD_MEDIDA SET 
		DESCRIPCION_MEDIDA=@Descripcion,
		ESTADO=@Activo
		WHERE ID_UNIDAD_MEDIDA=@IdMedida
	ELSE
	 SET @Resultado=0

END
GO
/****** Object:  StoredProcedure [dbo].[USP_ModificarProducto]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ModificarProducto](
@IdProducto UniqueIdentifier,
@Descripcion nvarchar(MAX),
@IdCategoria UniqueIdentifier,
@Activo bit,
@Resultado bit output
)
AS 
BEGIN
    SET @Resultado=1
	IF EXISTS (SELECT * FROM PRODUCTO WHERE rtrim(ltrim(ID_PRODUCTO)) = rtrim(ltrim(@IdProducto)) and ID_PRODUCTO=@IdProducto)
		update PRODUCTO SET 
		DESCRIPCION_PRODUCTO=@Descripcion,
		ID_CATEGORIA=@IdCategoria,
		ESTADO=@Activo
		WHERE ID_PRODUCTO=@IdProducto
	ELSE
	 SET @Resultado=0

END
GO
/****** Object:  StoredProcedure [dbo].[USP_ModificarProveedor]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ModificarProveedor](
@IdProveedor UniqueIdentifier,
@Direccion nvarchar(MAX),
@Telefono nvarchar(MAX),
@CorreoElectronico nvarchar(MAX),
@Descripcion nvarchar(MAX),
@Resultado bit output
)
AS 
BEGIN
    SET @Resultado=1
	IF EXISTS (SELECT * FROM PROVEEDOR WHERE ID_PROVEEDOR = @IdProveedor)
		update PROVEEDOR SET 
		DESCRIPCION_PROVEEDOR=@Descripcion,
		DIRECCION=@Direccion,
		TELEFONO=@Telefono,
		CORREO_ELECTRONICO=@CorreoElectronico
		WHERE ID_PROVEEDOR=@IdProveedor
	ELSE
	 SET @Resultado=0

END
GO
/****** Object:  StoredProcedure [dbo].[USP_ModificarRol]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ModificarRol](
@IdRol UniqueIdentifier,
@Descripcion nvarchar(MAX),
@Activo bit,
@Resultado bit output
)
AS 
BEGIN
    SET @Resultado=1
	IF EXISTS (SELECT * FROM ROLES WHERE ID_ROLES = @IdRol)
		update ROLES SET 
		DESCRIPCION_ROLES=@Descripcion,
		ESTADO=@Activo
		WHERE ID_ROLES=@IdRol
	ELSE
	 SET @Resultado=0

END
GO
/****** Object:  StoredProcedure [dbo].[USP_ModificarUsuario]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ModificarUsuario](
@IdUsuario UniqueIdentifier,
@IdRol UniqueIdentifier,
@IdEmpleado UniqueIdentifier,
@NombreUsuario nvarchar(MAX),
@Contraseña nvarchar(MAX),
@Activo nvarchar(MAX),
@Resultado bit output
)
AS 
BEGIN
    SET @Resultado=1
	IF EXISTS (SELECT * FROM USUARIO WHERE rtrim(ltrim(ID_USUARIO)) = rtrim(ltrim(@IdUsuario)) and ID_USUARIO=@IdUsuario)
		update USUARIO SET 
		ID_ROLES=@IdRol,
		NOMBRE_USUARIO=@NombreUsuario,
		CONTRASEÑA=@Contraseña,
		ESTADO=@Activo
		WHERE ID_USUARIO=@IdUsuario
	ELSE
	 SET @Resultado=0

END
GO
/****** Object:  StoredProcedure [dbo].[USP_ProductosObtener]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ProductosObtener]

AS
BEGIN
	 SET NOCOUNT ON;

	 SELECT ID_PRODUCTO, PRODUCTO.DESCRIPCION_PRODUCTO,PRODUCTO.ID_CATEGORIA, PRODUCTO.ESTADO, CATEGORIA.DESCRIPCION_CATEGORIA FROM PRODUCTO
	 INNER JOIN CATEGORIA ON CATEGORIA.ID_CATEGORIA= PRODUCTO.ID_CATEGORIA
END
GO
/****** Object:  StoredProcedure [dbo].[USP_ProveedoresObtener]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_ProveedoresObtener]

AS
BEGIN
	 SET NOCOUNT ON;

	 SELECT ID_PROVEEDOR, DIRECCION,TELEFONO, CORREO_ELECTRONICO, DESCRIPCION_PROVEEDOR FROM PROVEEDOR
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RegistrarCategoria]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RegistrarCategoria](
@IdCategoria uniqueidentifier,
@Descripcion nvarchar(Max),
@Resultado bit output
)
AS
BEGIN 
	SET @Resultado=1
	IF NOT EXISTS(SELECT * FROM CATEGORIA WHERE DESCRIPCION_CATEGORIA=@Descripcion)
	  INSERT INTO CATEGORIA(ID_CATEGORIA, DESCRIPCION_CATEGORIA, ESTADO) VALUES (@IdCategoria,@Descripcion,'true')
	ELSE
	  SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RegistrarCliente]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RegistrarCliente](
@IdCliente uniqueidentifier,
@Nombres nvarchar(Max),
@Cedula nvarchar(Max),
@Telefono nvarchar(Max),
@Resultado bit output
)
AS
BEGIN 
	SET @Resultado=1
	IF NOT EXISTS(SELECT * FROM CLIENTE WHERE NOMBRES=@Nombres)
	  INSERT INTO CLIENTE(ID_CLIENTE, NOMBRES,CEDULA, TELEFONO) VALUES (@IdCliente,@Nombres,@Cedula, @Telefono)
	ELSE
	  SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RegistrarDetalleProducto]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RegistrarDetalleProducto](
@IdDetalleProducto uniqueidentifier,
@IdProducto uniqueidentifier,
@IdMarca uniqueidentifier,
@IdUnidadMedida uniqueidentifier,
@IdMaterial uniqueidentifier,
@Resultado bit output
)
AS
BEGIN 
	SET @Resultado=1
	IF NOT EXISTS(SELECT * FROM DETALLE_PRODUCTO WHERE rtrim(ltrim(ID_PRODUCTO))=rtrim(ltrim(@IdProducto)) and 
	rtrim(ltrim(ID_MARCA))=rtrim(ltrim(@IdMarca)) and rtrim(ltrim(ID_UNIDAD_MEDIDA))=rtrim(ltrim(@IdUnidadMedida)) and
	rtrim(ltrim(ID_MATERIAL))=rtrim(ltrim(@IdMaterial)))
	  INSERT INTO DETALLE_PRODUCTO(ID_DETALLE_PRODUCTO, ID_PRODUCTO,ID_MARCA, ID_UNIDAD_MEDIDA, ID_MATERIAL)
	  VALUES (@IdDetalleProducto,@IdProducto,@IdMarca,@IdUnidadMedida, @IdMaterial)
	ELSE
	  SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RegistrarEmpleado]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RegistrarEmpleado](
@IdEmpleado uniqueidentifier,
@Nombres nvarchar(Max),
@Apellidos nvarchar(Max),
@Cedula nvarchar(Max),
@Telefono nvarchar(Max),
@Resultado bit output
)
AS
BEGIN 
	SET @Resultado=1
	IF NOT EXISTS(SELECT * FROM EMPLEADO WHERE NOMBRES=@Nombres and APELLIDOS=@Apellidos)
	  INSERT INTO EMPLEADO(ID_EMPLEADO, NOMBRES,APELLIDOS, CEDULA, TELEFONO,ESTADO) VALUES (@IdEmpleado,@Nombres,@Apellidos,@Cedula, @Telefono,'true')
	ELSE
	  SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RegistrarMarca]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RegistrarMarca](
@IdMarca uniqueidentifier,
@Descripcion nvarchar(Max),
@Resultado bit output
)
AS
BEGIN 
	SET @Resultado=1
	IF NOT EXISTS(SELECT * FROM MARCA WHERE DESCRIPCION_MARCA=@Descripcion)
	  INSERT INTO MARCA(ID_MARCA, DESCRIPCION_MARCA, ESTADO) VALUES (@IdMarca,@Descripcion,'true')
	ELSE
	  SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RegistrarMaterial]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RegistrarMaterial](
@IdMaterial uniqueidentifier,
@Descripcion nvarchar(Max),
@Resultado bit output
)
AS
BEGIN 
	SET @Resultado=1
	IF NOT EXISTS(SELECT * FROM MATERIAL WHERE DESCRIPCION_MATERIAL=@Descripcion)
	  INSERT INTO MATERIAL(ID_MATERIAL, DESCRIPCION_MATERIAL, ESTADO) VALUES (@IdMaterial,@Descripcion,'true')
	ELSE
	  SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RegistrarMedida]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RegistrarMedida](
@IdMedida uniqueidentifier,
@Descripcion nvarchar(Max),
@Resultado bit output
)
AS
BEGIN 
	SET @Resultado=1
	IF NOT EXISTS(SELECT * FROM UNIDAD_MEDIDA WHERE DESCRIPCION_MEDIDA=@Descripcion)
	  INSERT INTO UNIDAD_MEDIDA(ID_UNIDAD_MEDIDA, DESCRIPCION_MEDIDA, ESTADO) VALUES (@IdMedida,@Descripcion,'true')
	ELSE
	  SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RegistrarProducto]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RegistrarProducto](
@IdProducto uniqueidentifier,
@Descripcion nvarchar(Max),
@IdCategoria uniqueidentifier,
@Resultado bit output
)
AS
BEGIN 
	SET @Resultado=1
	IF NOT EXISTS(SELECT * FROM PRODUCTO WHERE rtrim(ltrim(DESCRIPCION_PRODUCTO))=rtrim(ltrim(@Descripcion)))
	  INSERT INTO PRODUCTO(ID_PRODUCTO, DESCRIPCION_PRODUCTO,ID_CATEGORIA, ESTADO) VALUES (@IdProducto,@Descripcion,@IdCategoria,'true')
	ELSE
	  SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RegistrarProveedor]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RegistrarProveedor](
@IdProveedor uniqueidentifier,
@Direccion nvarchar(Max),
@CorreoElectronico nvarchar(Max),
@Telefono nvarchar(Max),
@Descripcion nvarchar(Max),
@Resultado bit output
)
AS
BEGIN 
	SET @Resultado=1
	IF NOT EXISTS(SELECT * FROM PROVEEDOR WHERE DESCRIPCION_PROVEEDOR=@Descripcion )
	  INSERT INTO PROVEEDOR(ID_PROVEEDOR, DIRECCION,CORREO_ELECTRONICO,TELEFONO,DESCRIPCION_PROVEEDOR) VALUES (@IdProveedor,@Direccion,@CorreoElectronico, @Telefono,@Descripcion)
	ELSE
	  SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RegistrarRol]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RegistrarRol](
@IdRol uniqueidentifier,
@Descripcion nvarchar(Max),
@Resultado bit output
)
AS
BEGIN 
	SET @Resultado=1
	IF NOT EXISTS(SELECT * FROM ROLES WHERE DESCRIPCION_ROLES=@Descripcion)
	  INSERT INTO ROLES(ID_ROLES, DESCRIPCION_ROLES, ESTADO) VALUES (@IdRol,@Descripcion,'true')
	ELSE
	  SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RegistrarUsuario]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RegistrarUsuario](
@IdUsuario uniqueidentifier,
@IdRol uniqueidentifier,
@IdEmpleado uniqueidentifier,
@NombreUsuario nvarchar(Max),
@Contraseña nvarchar(Max),
@Resultado bit output
)
AS
BEGIN 
	SET @Resultado=1
	IF NOT EXISTS(SELECT * FROM USUARIO WHERE rtrim(ltrim(NOMBRE_USUARIO))=rtrim(ltrim(@NombreUsuario)))
	  INSERT INTO USUARIO(ID_USUARIO, ID_ROLES,ID_EMPLEADO,NOMBRE_USUARIO,CONTRASEÑA, ESTADO) VALUES (@IdUsuario,@IdRol,@IdEmpleado,@NombreUsuario,@Contraseña,'true')
	ELSE
	  SET @Resultado=0
END
GO
/****** Object:  StoredProcedure [dbo].[USP_RolesObtener]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_RolesObtener]

AS
BEGIN
	 SET NOCOUNT ON;

	 SELECT ID_ROLES, DESCRIPCION_ROLES, ESTADO FROM ROLES
END
GO
/****** Object:  StoredProcedure [dbo].[USP_UsuariosObtener]    Script Date: 16/10/2024 11:05:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[USP_UsuariosObtener]

AS
BEGIN
	 SET NOCOUNT ON;

	 SELECT ID_USUARIO,USUARIO.ID_ROLES,USUARIO.ID_EMPLEADO, NOMBRE_USUARIO, CONTRASEÑA, USUARIO.ESTADO, 
	 ROLES.DESCRIPCION_ROLES,EMPLEADO.NOMBRES, EMPLEADO.APELLIDOS FROM USUARIO
	 INNER JOIN ROLES ON ROLES.ID_ROLES= USUARIO.ID_ROLES
	 INNER JOIN EMPLEADO ON EMPLEADO.ID_EMPLEADO =USUARIO.ID_EMPLEADO
END
GO
USE [master]
GO
ALTER DATABASE [LIBRERIA_ESTUDIANTE_MEJORADA] SET  READ_WRITE 
GO
